<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><HTML>  <HEAD><LINK rel="canonical" href="//blog.barijaona.com/macintosh/osxpb2.html">    <META name="generator" content="HTML Tidy, see www.w3.org">    <META http-equiv="content-type" content=    "text/html;charset=iso-8859-1">    <TITLE>MacOS X Public Beta : les shells</TITLE>    <META name="DESCRIPTION" content=    "L'utilisation d'un shell, personnalisation de tcsh">    <META name="keywords" content=    "macintosh, osx, terminal, tcsh, shell">    <META http-equiv="lang" content="fr">    <LINK href="../style/barijaona.css" rel="styleSheet" type=    "text/css">  </HEAD>  <BODY bgcolor="white">    <!--#geoguide-->    <TABLE border="0" cellspacing="0" width="100%" frame="void"    rules="cols" summary="Menus">      <COLGROUP>        <COL span="6" width="1*">      </COLGROUP>      <TR align="center">        <TD bgcolor="#ffcccc"><A href="../" class="menu"        title="Les &eacute;ditoriaux">Accueil</A></TD>        <TD bgcolor="#ccffcc"><A href="../humour/" title=        "Et vous trouvez &ccedil;a dr&ocirc;le ?" class="menu">        Humour</A></TD>        <TD bgcolor="#ccccff"><A href="../macintosh/" title=        "Mac Pride" class="menu">Macintosh</A></TD>        <TD bgcolor="#ffffcc"><A href="../print66/" title=        "A free printer daemon for the Macintosh" class="menu">        Print66</A></TD>        <TD bgcolor="#ffccff"><A href="../best_of/" title=        "Sites Web, photos..." class="menu">        S&eacute;lection</A></TD>        <TD bgcolor="#ccffff"><A href="../equipe/" title=        "Qui &eacute;crit ce machin ?" class="menu">        &Eacute;diteur</A></TD>      </TR>      <TR bgcolor="#ccccff">        <TD colspan="6" align="left">&nbsp;&nbsp;<A href=        "index.html" class="submenu">MacOS X</A>&nbsp;|&nbsp;<A        href="os8et9.html" class="submenu">MacOS        classique</A>&nbsp;|&nbsp;<A href="macrules.html" class=        "submenu">Pourquoi ?</A></TD>      </TR>    </TABLE>    <TABLE width="100%" bgcolor="white" border="0" cellspacing="0"    cellpadding="15" frame="void" rules="cols" summary="contenu">      <COLGROUP>        <COL span="1" width="1*">      </COLGROUP>      <TR>        <TD align="right"><SPAN class="scrollmenu">Cet        &eacute;l&eacute;ment comporte 5 parties :</SPAN> &nbsp; <A        href="index.html" class="scrollmenu">        Intro</A>&nbsp;|&nbsp;<A href="osxpb1.html" class=        "scrollmenu">1</A>&nbsp;|<SPAN class=        "scrollmenu">2</SPAN>&nbsp;|&nbsp;<A href="osxpb3.html"        class="scrollmenu">3</A>&nbsp;|&nbsp;<A href="osxpb4.html"        class="scrollmenu">4</A>&nbsp;|&nbsp;<A href="osxpb1.html"        class="scrollmenu">&lt;&lt; Pr&eacute;c</A>&nbsp;|&nbsp;<A        href="osxpb3.html" class="scrollmenu">Suiv        &gt;&gt;</A></TD>      </TR>      <TR>        <TD>          <H2>L'utilisation d'un shell</H2>          <P>Je suis persuad&eacute; que ce que je vais          pr&eacute;senter ci-apr&egrave;s sera parfaitement          inutile pour la plupart des utilisateurs de la version          finale de MacOS X. En fait, c'est d&eacute;j&agrave;          largement inutile pour les utilisateurs de la version          beta publique, mais ce qui suit permettra aux fanas de          technologie de comprendre &agrave; quel point la          simplicit&eacute; de MacOS li&eacute;e &agrave; la          souplesse et l'ouverture d'Unix changeront en profondeur          notre perception de ce que doit &ecirc;tre un          syst&egrave;me d'exploitation moderne.</P>          <P>Un shell permet de soumettre des commandes de type          texte &agrave; votre ordinateur.&nbsp;Pour relativiser          l'importance et la complexit&eacute; de ce qui suit,          MacOS pouvait d&eacute;j&agrave; &ecirc;tre          contr&ocirc;l&eacute; par des commandes de type texte,          via AppleScript... que beaucoup d'utilisateurs Mac ne          connaissaient que de tr&egrave;s loin, sans pourtant en          souffrir. Avec la version X, MacOS continue d'avoir          l'excellent AppleScript, mais h&eacute;rite aussi de          shells de type Unix, comme tcsh ou zsh, et d'autres          langages de commandes sophistiqu&eacute;s comme Perl. On          peut les ignorer totalement, s'en servir comme M.          Jourdain faisait de la prose gr&acirc;ce &agrave; des          scripts "tout faits" fournis par des tiers, ou s'y          int&eacute;resser un peu plus pour savoir ce que l'on          peut en tirer, ce qui est mon cas...</P>          <H2>Personnalisation de tcsh</H2>          <P>Tcsh est le shell propos&eacute; par d&eacute;faut par          l'application Terminal.</P>          <P>Une configuration par d&eacute;faut de tcsh a          &eacute;t&eacute; d&eacute;finie par          l'interm&eacute;diaire des fichiers pr&eacute;sents dans          le r&eacute;pertoire /usr/share/init/tcsh/. On peut          s'inspirer des fichiers pr&eacute;sents dans ce          r&eacute;pertoire pour cr&eacute;er ses propres fichiers          de configuration et les mettre dans le r&eacute;pertoire          ~/Library/init/tcsh/ (~ repr&eacute;sente votre          r&eacute;pertoire "Home", soit          /Users/votre_nom_utilisateur).</P>          <P>Voici un aliases.mine qui permet de d&eacute;finir ou          red&eacute;finir des commandes :</P>          <TABLE border="1" cellpadding="0" frame="" width="95%"          align="center" summary=          "Le fichier aliases.mine qui personnalise mon utilisation de tcsh">            <CAPTION align="bottom">              Exemple de fichier aliases.mine            </CAPTION>            <COLGROUP>              <COL span="1" width="1*">            </COLGROUP>            <TR>              <TD>                <CODE>### TCSH Expanded C-Shell INITIALIZATION                FILE<BR>                 # Aliases file#<BR>                 alias                edit&nbsp;&nbsp;&nbsp;&nbsp;'pico'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#                pico est un editeur simple<BR>                 alias dir&nbsp;&nbsp;&nbsp;&nbsp;'ls -lgAF \!* |                more' &nbsp;&nbsp;# ls liste les fichiers<BR>                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#                more insere une pause entre ecrans<BR>                 alias type&nbsp;&nbsp;&nbsp;&nbsp;'less -E'                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#                less insere une pause entre ecrans<BR>                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#                less est plus sympa que more...</CODE>                 <P>&nbsp;</P>              </TD>            </TR>          </TABLE>          <P>J'esp&egrave;re que vous aurez compris que #          d&eacute;finit un commentaire...Je d&eacute;finis dans ce          script un certain nombre de "pseudo-commandes" qui ont          l'avantage de pr&eacute;server quelques habitudes          h&eacute;rit&eacute;es de... MS-DOS.</P>          <P>J'esp&egrave;re que vous aurez compris que #          d&eacute;finit un commentaire... Je d&eacute;finis dans          ce script un certain nombre de "pseudo-commandes" qui ont          l'avantage de pr&eacute;server quelques habitudes          h&eacute;rit&eacute;es de... MS-DOS. Mais on          per&ccedil;oit tout de suite qu'on ne peut comparer les          souplesses d'Unix et celui de MS-DOS : la pseudo-commande          "dir" que je d&eacute;finis est tr&egrave;s          personnalis&eacute;e. Elle fournit beaucoup plus de          d&eacute;tails que la commande par d&eacute;faut pour          lister les fichiers, et effectue une pause entre chaque          page, ce que je trouve nettement plus confortable. Vous          &ecirc;tes libres d'avoir d'autres          pr&eacute;f&eacute;rences, et vous n'avez qu'&agrave;          taper une commande "man ls" pour en apprendre plus sur          les diff&eacute;rentes options existantes pour lister un          fichier, et combiner cette commande avec d'autres          &agrave; l'instar des exemples          pr&eacute;c&eacute;dents... Mieux, vous pouvez          red&eacute;finir les options par d&eacute;faut de toute          commande existante.</P>          Certains vont me dire qu'en multipliant les fichier .BAT,          il serait possible de reproduire ce genre de          personnalisation en environnement Microsoft. Certes, mais          l'&eacute;l&eacute;gance de la solution Unix est quand          m&ecirc;me tr&egrave;s sup&eacute;rieure,et les .BAT ou          .CMD&nbsp;arrivent tr&egrave;s vite &agrave; leur limite,          alors que l'exemple ci-dessus ne montre qu'une          microscopique portion de la capacit&eacute; d'un shell          Unix (sans m&ecirc;me &eacute;voquer les outils encore          plus sophistiqu&eacute;s comme Perl).        </TD>      </TR>      <TR>        <TD align="right"><SPAN class="scrollmenu">Cet        &eacute;l&eacute;ment comporte 5 parties :</SPAN> &nbsp; <A        href="index.html" class="scrollmenu">        Intro</A>&nbsp;|&nbsp;<A href="osxpb1.html" class=        "scrollmenu">1</A>&nbsp;|<SPAN class=        "scrollmenu">2</SPAN>&nbsp;|&nbsp;<A href="osxpb3.html"        class="scrollmenu">3</A>&nbsp;|&nbsp;<A href="osxpb4.html"        class="scrollmenu">4</A>&nbsp;|&nbsp;<A href="osxpb1.html"        class="scrollmenu">&lt;&lt; Pr&eacute;c</A>&nbsp;|&nbsp;<A        href="osxpb3.html" class="scrollmenu">Suiv        &gt;&gt;</A></TD>      </TR>    </TABLE>    <TABLE border="0" cellspacing="0" cellpadding="0" width="100%"    frame="void" rules="cols" summary="Sous-menu de navigation">      <TR bgcolor="#ccccff">        <TD colspan="6" align="left">&nbsp;&nbsp;<A href=        "index.html" class="submenu">MacOS X</A>&nbsp;|&nbsp;<A        href="os8et9.html" class="submenu">MacOS        classique</A>&nbsp;|&nbsp;<A href="macrules.html" class=        "submenu">Pourquoi ?</A></TD>      </TR>    </TABLE>  </BODY></HTML>